<html>
  <head>
    <title>Automated Resource Handling for Java - AutoRes.uk</title>
    <link rel="stylesheet" href="styles.css" type="text/css">
    <meta name="description" content="Open source library for automating embedded Java resource file handling">
    <link rel="icon" href="favicon.png">
  </head>
  <body>

    <nav>
      <ul>
        <li><a href="apidocs/index.html">API</a></li>
        <li><a href="https://github.com/autores-uk/autores">Source Code</a></li>
        <li><a href="https://github.com/autores-uk/autores/tree/main/code/examples">Examples</a></li>
      </ul>
    </nav>

    <h1 id="autores">AutoRes.uk</h1>

    <p>
      Open source library for automating embedded <a href="https://dev.java/">Java&trade;</a> resource file handling.
      This is an alternative to manual use of methods like
      <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getResourceAsStream-java.lang.String-">getResourceAsStream</a>
      using annotations for verification and code generation.
    </p>

    <ul>
      <li>Validate resource names with the compiler</li>
      <li>Replace manual resource file I/O handling with generated byte arrays or strings</li>
      <li>Replace localization <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/PropertyResourceBundle.html">resource bundle messages</a> with typed method signatures</li>
      <li>Create <a href="https://www.graalvm.org">GraalVM</a> native images without the need for <a href="https://www.graalvm.org/latest/reference-manual/native-image/dynamic-features/Resources/">resource manifests</a></li>
      <li>Extend with additional generators or validators</li>
    </ul>

    <p>
      AutoRes.uk is a compile-time only dependency and does not need to be distributed with application code.
    </p>

    <p>
      Prior knowledge of how to package and deploy Java libraries and applications is assumed.
      This library can affect compile time, jar sizes, and constant pools.
    </p>

    <a id="usage" href="#usage">&#x1f517;</a>
    <h2>Usage</h2>

    <p>
      Browse the <a href="https://central.sonatype.com/artifact/uk.autores/annotations">central repository</a> 
      for a build system import snippet for the <code>uk.autores:annotations</code> library.
    </p>

    <p>
      Annotate a type or package with <code>@uk.autores.ResourceFiles</code>,
      define the resource files, and choose a handler:
    </p>

    <pre><code>
      import uk.autores.*;

      @ResourceFiles(
        value = {"Poule.txt", "Roses.txt"},
        handler = GenerateStringsFromText.class
      )
      public class PrintRhymes {

        public static void main(String...args)  {
          System.out.println(Poule.text());
          System.out.println(Roses.text());
        }
      }
    </code></pre>

    <p>
      The <code>GenerateStringsFromText</code> handler creates one class per text file that provides the file content as a <code>String</code>.
    </p>

    <p>
      Other handlers include
      <code>AssertResourceExists</code>,
      <code>GenerateByteArraysFromFiles</code>,
      <code>GenerateConstantsFromProperties</code>,
      <code>GenerateInputStreamsFromFiles</code>, and
      <code>GenerateMessagesFromProperties</code>.
    </p>

    <a id="compat" href="#compat">&#x1f517;</a>
    <h3>Versioning &amp; Compatibility</h3>

    <p>Versions are split into three integers: Java version; major version; minor version.</p>

    <p>Java 8 and Java 11 versions are published.</p>

    <a id="modules" href="#modules">&#x1f517;</a>
    <h3>Modules</h3>

    <p>
      Use <code>requires static uk.autores</code> in 
      <a href="https://dev.java/learn/modules/">module-info.java</a> to depend on this library at compile time only.
      Add <code>requires static java.compiler</code> to avoid warnings about unknown type <code>StandardLocation</code>.
      All versions of the library support modules.
    </p>

    <a id="maven" href="#maven">&#x1f517;</a>
    <h3>Apache Maven</h3>

    <p>
      <a href="https://maven.apache.org/">Apache Maven</a> end consumer projects should use the 
      <a href="https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#dependency-scope">provided</a> scope.
    </p>

    <pre><code>
      &lt;dependency>
        &lt;groupId>uk.autores&lt;/groupId>
        &lt;artifactId>annotations&lt;/artifactId>
        &lt;version>${autores.version}&lt;/version>
        &lt;scope>provided&lt;/scope>
      &lt;/dependency>
    </code></pre>

    <p>
      Java Platform Module System projects should use
      <a href="https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html">annotationProcessorPaths</a>
      to make the compiler aware of the annotation processor service.
    </p>

    <pre><code>
      &lt;build>
        &lt;plugins>
            &lt;plugin>
                &lt;groupId>org.apache.maven.plugins&lt;/groupId>
                &lt;artifactId>maven-compiler-plugin&lt;/artifactId>
                &lt;version>${maven.compiler.plugin.version}&lt;/version>
                &lt;configuration>
                    &lt;annotationProcessorPaths>
                        &lt;path>
                            &lt;groupId>uk.autores&lt;/groupId>
                            &lt;artifactId>annotations&lt;/artifactId>
                            &lt;version>${autores.version}&lt;/version>
                        &lt;/path>
                    &lt;/annotationProcessorPaths>
                &lt;/configuration>
            &lt;/plugin>
        &lt;/plugins>
      &lt;/build>
    </code></pre>

  </body>
</html>
